<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Đồng bộ - Bất đồng bộ</title>
  </head>
  <body>
    <script>
      // Callback
      function getUser(userId, callback) {
        setTimeout(() => {
          const user = { userId: userId, name: "Nguyễn Văn A" };
          callback(user);
        }, 1000);
      }

      function getPosts(userId, callback) {
        setTimeout(() => {
          const posts = [
            { postId: 1, userId: userId, title: "Bài viết 1" },
            { postId: 2, userId: userId, title: "Bài viết 2" },
          ];
          callback(posts);
        });
      }
      function getComments(post, callback) {
        setTimeout(() => {
          const comments = [
            { commentId: 1, postId: post.postId, content: "Bình luận 1" },
            { commentId: 2, postId: post.postId, content: "Bình luận 2" },
          ];
          callback(comments);
        });
      }
      // Lấy ra comment của bài viết đầu tiên có userId = 1
      getUser(1, (user) => {
        console.log("User:", user);
        getPosts(user.userId, (posts) => {
          console.log("Posts:", posts);
          getComments(posts[0], (comments) => {
            console.log("Comments:", comments);
          });
        });
      });
      // Promise
    </script>
  </body>
</html>
